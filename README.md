# 📈 BTC Logger

CoinbaseのAPIを使って、ビットコイン（BTC）の現在価格を取得し、CSVファイルに自動記録するPythonスクリプトです。

---

## 🔧 ファイル構成

| ファイル名            | 説明 |
|-----------------------|------|
| `btc_logger.py`       | BTC価格を取得し、CSVファイルに記録するメインスクリプト |
| `btc_plot.py`         | 直近30件のBTC価格推移を**折れ線グラフ**で可視化するスクリプト【最新版】 |
| `Coinbase API.py`     | 単発でBTC価格を取得し表示するテスト用スクリプト |
| `test_connection.py`  | ネットワーク接続確認用スクリプト |
| `btc_logger.bat`      | タスクスケジューラからPythonスクリプトを実行するためのバッチファイル |

---

## ⚙ 自動実行設定

- Windowsタスクスケジューラを使用して、`btc_logger.bat` を定期的に実行
- 自動的に `btc_log.csv` に価格が追記されます

### ✅ タスクスケジューラ設定手順（Windows）

1. タスクスケジューラを開く
2. 「基本タスクの作成」をクリック
3. 名前を入力（例：btc_logger）
4. トリガー：任意の頻度を選択（例：1時間おき）
5. 操作：「プログラムの開始」を選択し、次を指定：  
   **プログラム/スクリプト**：`btc_logger.bat` のフルパス（例：`C:\Users\Documents\cursor\btc_logger\btc_logger.bat`）
6. 「完了」をクリック
7. 作成したタスクを右クリック → 「プロパティ」 → 「全般」タブ → 「最上位の特権で実行」にチェックを入れる

---

## 📊 グラフ出力機能【NEW】

### btc_plot.py

- `btc_log.csv`の**直近30件のBTC価格推移**を**折れ線グラフ**で可視化し、PNG画像で出力します
- **時系列のズレや重複も自動修正**され、見やすいグラフが生成されます

#### 使い方

1. `btc_logger.py`で自動記録された`btc_log.csv`が存在することを確認
2. 下記コマンドで実行
   ```bash
   python btc_plot.py
